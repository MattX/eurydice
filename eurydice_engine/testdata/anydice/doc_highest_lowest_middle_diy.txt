function: highest NUMBER:n of DICE:d {
 result: {1..NUMBER}@DICE
}

output [highest 3 of 4d6]
output [highest d4 of 4d6]

function: lowest NUMBER:n of DICE:d {
 result: {(#DICE - NUMBER + 1)..#DICE}@DICE
}

output [lowest 3 of 4d6]
output [lowest d4 of 4d6]

function: middle NUMBER:n of DICE:d {
 if NUMBER = #DICE { result: DICE }

 if NUMBER = 1 { result: (1 + (#DICE - 1) / 2) @ DICE }
 
 FROM: 1 + (#DICE - NUMBER) / 2
 TO: FROM + NUMBER - 1
 result: {FROM..TO}@DICE
}

output [middle 1 of 3d6] named "2nd die"
output [middle 2 of 3d6] named "1st and 2nd die"
output [middle 1 of 4d6] named "2nd die"
output [middle 2 of 4d4] named "2nd and 3rd die"
output [middle 3 of 4d6] named "1st, 2nd and 3rd die"

\\\ Result \\\

"output 1",12.244598765428275,2.84684444531159,3,18
#,%
3,0.0771604938272
4,0.308641975309
5,0.771604938272
6,1.62037037037
7,2.93209876543
8,4.78395061728
9,7.02160493827
10,9.41358024691
11,11.4197530864
12,12.8858024691
13,13.2716049383
14,12.3456790123
15,10.1080246914
16,7.25308641975
17,4.16666666667
18,1.62037037037

"output 2",10.208333333336954,4.134108910211974,1,24
#,%
1,0.0192901234568
2,0.308641975309
3,1.35030864198
4,3.76157407407
5,8.00540123457
6,14.7955246914
7,3.20216049383
8,5.16975308642
9,7.15663580247
10,8.93132716049
11,9.56790123457
12,8.93132716049
13,6.01851851852
14,5.90277777778
15,5.22762345679
16,4.22453703704
17,3.04783950617
18,1.94830246914
19,1.08024691358
20,0.675154320988
21,0.385802469136
22,0.192901234568
23,0.0771604938272
24,0.0192901234568

"output 3",8.755401234562946,2.84684444531159,3,18
#,%
3,1.62037037037
4,4.16666666667
5,7.25308641975
6,10.1080246914
7,12.3456790123
8,13.2716049383
9,12.8858024691
10,11.4197530864
11,9.41358024691
12,7.02160493827
13,4.78395061728
14,2.93209876543
15,1.62037037037
16,0.771604938272
17,0.308641975309
18,0.0771604938272

"output 4",7.2916666666671075,5.224862659900236,1,24
#,%
1,12.9436728395
2,10.4166666667
3,8.48765432099
4,7.34953703704
5,6.50077160494
6,6.03780864198
7,5.55555555556
8,5.24691358025
9,4.91898148148
10,4.6875
11,4.43672839506
12,4.18595679012
13,3.89660493827
14,3.54938271605
15,3.10570987654
16,2.60416666667
17,2.08333333333
18,1.5625
19,1.08024691358
20,0.675154320988
21,0.385802469136
22,0.192901234568
23,0.0771604938272
24,0.0192901234568

"2nd die",3.5000000000007,1.3709958532502022,1,6
#,%
1,7.40740740741
2,18.5185185185
3,24.0740740741
4,24.0740740741
5,18.5185185185
6,7.40740740741

"1st and 2nd die",8.45833333332976,2.214875006924007,2,12
#,%
2,0.462962962963
3,1.38888888889
4,3.24074074074
5,5.55555555556
6,8.7962962963
7,12.5
8,15.7407407407
9,16.6666666667
10,15.7407407407
11,12.5
12,7.40740740741

"2nd die",4.0995370370365,1.2329578138967185,1,6
#,%
1,1.62037037037
2,9.49074074074
3,20.1388888889
4,28.0092592593
5,27.5462962963
6,13.1944444444

"2nd and 3rd die",5,1.5103807466993215,2,8
#,%
2,5.078125
3,11.71875
4,21.484375
5,23.4375
6,21.484375
7,11.71875
8,5.078125

"1st, 2nd and 3rd die",12.244598765428275,2.84684444531159,3,18
#,%
3,0.0771604938272
4,0.308641975309
5,0.771604938272
6,1.62037037037
7,2.93209876543
8,4.78395061728
9,7.02160493827
10,9.41358024691
11,11.4197530864
12,12.8858024691
13,13.2716049383
14,12.3456790123
15,10.1080246914
16,7.25308641975
17,4.16666666667
18,1.62037037037

